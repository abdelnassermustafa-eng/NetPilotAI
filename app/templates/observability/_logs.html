<!-- ================= LOGS SECTION ================= -->
<div class="bg-white border border-slate-200 rounded-lg p-5 space-y-4">

    <!-- ========================================================= -->
    <!-- ðŸ“œ LOGS -->
    <!-- ========================================================= -->
    <section class="space-y-4">

        <h2 class="text-xl font-semibold text-slate-800 flex items-center gap-2">
            ðŸ“œ Logs
        </h2>

        <!-- ================= LOGS OVERVIEW (COLLAPSIBLE) ================= -->
        <details class="bg-amber-50 border border-amber-200 rounded-md p-3 text-sm">
            <summary class="cursor-pointer font-medium text-amber-800">
                Logs overview
            </summary>

            <div class="mt-3 space-y-3">

                <p class="text-sm text-slate-600">
                    Real-time application and infrastructure logs collected from AWS CloudWatch
                    and the NetPilot AI backend. Logs are presented in a read-only manner to
                    support troubleshooting, auditing, and operational visibility.
                </p>

                <ul class="list-disc list-outside pl-5 text-sm text-slate-700 space-y-1">
                    <li>NetPilot AI backend application logs</li>
                    <li>AWS CloudWatch log events generated by backend activity</li>
                    <li>Timestamped log entries with severity and message</li>
                </ul>

                <p class="text-xs text-slate-500">
                    Logs are pulled from AWS CloudWatch, appended automatically,
                    and cannot be modified or executed from this interface.
                </p>

                <!-- AUTO REFRESH CONTROL -->
                <label class="flex items-center gap-2 text-sm text-blue-800">
                    <input type="checkbox" x-model="autoRefreshLogs" @change="toggleAutoRefresh()"
                        class="rounded border-blue-400 text-blue-600 focus:ring-blue-500">

                    <span class="font-semibold">
                        Auto-refresh logs Â· every 30s
                    </span>

                    <span x-show="autoRefreshLogs" class="ml-2 text-xs font-semibold text-blue-700
                                 bg-white border border-blue-300
                                 px-2 py-0.5 rounded-full">
                        ON
                    </span>
                </label>

            </div>
        </details>

        <!-- ================= LOGS TABLE ================= -->
        <div class="overflow-x-auto border border-slate-200 rounded-lg">

            <table class="min-w-full text-sm">
                <thead class="bg-slate-100 text-slate-700">
                    <tr>
                        <th class="px-3 py-2 text-left border-b">Time</th>
                        <th class="px-3 py-2 text-left border-b">Level</th>
                        <th class="px-3 py-2 text-left border-b">Message</th>
                    </tr>
                </thead>

                <tbody>
                    <!-- Gate ALL log rendering behind observabilitySection === 'logs' -->
                    <template x-if="observabilitySection === 'logs'">

                        <template x-if="recentLogs && recentLogs.length > 0">
                            <template x-for="(log, idx) in recentLogs" :key="log.timestamp + '-' + idx">
                                <tr class="border-t">
                                    <td class="px-3 py-2 font-mono text-slate-700"
                                        x-text="formatTimestamp(log.timestamp)">
                                    </td>

                                    <td class="px-3 py-2">
                                        <span class="px-2 py-0.5 rounded text-xs font-semibold"
                                            :class="levelClass(log.level)" x-text="log.level || 'â€”'">
                                        </span>
                                    </td>

                                    <td class="px-3 py-2 text-slate-800" x-text="log.message || 'â€”'">
                                    </td>
                                </tr>
                            </template>
                        </template>

                        <template x-if="!recentLogs || recentLogs.length === 0">
                            <tr>
                                <td colspan="3" class="px-3 py-4 text-center text-slate-500">
                                    No logs available
                                </td>
                            </tr>
                        </template>

                    </template>
                </tbody>


            </table>
        </div>

    </section>
</div>
<!-- =============== END LOGS SECTION =============== -->
